import{z as d,u as O,F as c,D as S,M as G,t as V}from"./chunks/vee-validate-zod.EVkiLbjx.js";import{d as x,p as A,ah as D,q as F,h as W,c as m,o as u,F as R,j as s,G as i,w as p,e as f,a as g,t as w,_ as L}from"./chunks/framework.DTpsuxmX.js";import"./chunks/theme.Ep9al9kZ.js";const M=JSON.parse(`["{\\n  // The JSON schema for the config, this is for text editors to show syntax highlighting, do not change it\\n  \\"$schema\\": \\"https://awakenedredstone.com/json-schema/autowhitelist/draft-06.json\\",\\n  // DO NOT CHANGE, MODIFYING THIS VALUE WILL BREAK THE CONFIGURATION FILE\\n  \\"CONFIG_VERSION\\": 6,\\n  // When enabled, it will keep a cache of previous registered users and will use it to automatically add the user back (if they have the proper role)\\n  \\"enable_whitelist_cache\\": true,\\n  /* The delay (in seconds) for checking for invalid and outdated entries. This ensures everything is up to date in case the bot misses an event\\n     [Min: 10, Max: 600]\\n  */\\n  \\"periodic_check_delay\\": 60,\\n  // The activity type shown on the bot status, must be in UPPERCASE\\n  \\"bot_activity_type\\": \\"PLAYING\\",\\n  /* The time the bot will lock a whitelist entry after it is added or updated, use -1 to lock all entries forever\\n     Changes to this value will only apply to new entries, except for permanent lock which is immediate and global\\n     Check the documentation for more details on how the format works\\n  */\\n  \\"lock_time\\": \\"1d\\",\\n  // Your bot's token. Never share it, anyone with it has full control of the bot\\n  \\"token\\": \\"DO NOT SHARE THE BOT TOKEN\\",\\n  \\"discord_server_id\\": 0,\\n  // When enabled, all interactions and slash commands will be ephemeral, meaning only the user can see the response.\\n  \\"ephemeral_replies\\": true,\\n  // When enabled, the bot will cache the data of the users on discord, this reduces response time, but may cause higher memory usage on large discord servers.\\n  \\"cache_discord_data\\": true,\\n  /* The permission level used for command entries. This limits what commands the mod can run, you likely don't need to change this.\\n     Check https://minecraft.wiki/w/Permission_level for more about permission levels.\\n  */\\n  \\"command_permission_level\\": 3,\\n  // The whitelist entry settings, please refer to the documentation to set them up\\n  \\"entries\\": [\\n    %s\\n  ]\\n}\\n"]`),B={class:"bg-vp-bg-soft border-border mb-4 rounded-md border p-4"},H=["value","onInput"],J={key:0,class:"ml-4 mt-2"},P=["value","onInput"],j={key:0,class:"text warning no-margin"},U=["value","onInput"],$={key:0,class:"text warning no-margin"},z={key:1,class:"ml-4 mt-2"},Y={key:2,class:"ml-4 mt-2"},K=x({__name:"ConfigGenerator",setup(T){const y=d.object({roles:d.string().regex(/^((, ?)?(\d+|@[^\n,]+))+$/,{message:"A role must be an ID or a name prefixed with @"}),type:d.string().regex(/^([_\-a-z0-9.]+:)?[_\-a-z0-9.\/]+$/,{message:"Invalid identifier"}).min(2),on_add:d.string(),on_remove:d.string(),permission:d.string().nonempty({message:"The permission can not be empty"}),group:d.string().nonempty({message:"The group can not be empty"})}),v=[{name:"Just whitelist",value:"autowhitelist:whitelist"},{name:"Execute command",value:"autowhitelist:execute_command",extra:["on_add","on_remove"]},{name:"Give Luckperms permission",value:"autowhitelist:luckperms/permission",extra:["permission"]},{name:"Give Luckperms group",value:"autowhitelist:luckperms/group",extra:["group"]}],b=O({validationSchema:V(y),initialValues:{roles:""}}),r=A(v[0]),I=D("markdownRef");function N(){var t;const o=(t=I.value)==null?void 0:t.$el.children[0].children[2],e=o.getElementsByClassName("has-focus");if(e.length>0){const a=e[0],n=o.children[0],l=[];for(let h=0;h<n.children.length;h++)l.push(n.children[h]);const _=l.findIndex(h=>h===a),k=n.children[_-2];o.scrollTo({top:k.offsetTop-k.offsetHeight/3,behavior:"smooth"})}}F(r,()=>{b.validate()});const C=W(()=>{const o={...b.values},e={roles:o.roles?o.roles.split(/, ?/):[],type:o.type};(r.value.extra??[]).length>0&&(e.execute={});for(const l of r.value.extra??[])e.execute[l]=o[l]??"";const a=JSON.stringify(e,void 0,2).split(`
`);let n="";return a.forEach((l,_)=>{n+=l+" //[!code focus]",_<a.length-1&&(n+=`
    `)}),"```json\n"+E(M[0],n)+"\n```"});function E(o,...e){return o.replace(/%s/g,()=>e.shift()||"")}return(o,e)=>(u(),m(R,null,[e[8]||(e[8]=s("h1",{class:"pb-4"},"Generate config with an entry",-1)),s("div",B,[i(c,{type:"text",label:"If user has",name:"roles"},{default:p(({value:t,updateValue:a})=>[s("input",{value:t,onInput:n=>a(n.target.value),placeholder:"@Twitch subs, 875942046153564638"},null,40,H),e[1]||(e[1]=s("p",{class:"text no-margin"},"Insert the role name or ID, separated by commas",-1))]),_:1}),i(c,{label:"Then",name:"type",class:"mt-4"},{default:p(()=>[i(S,{name:"type",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),class:"!mt-0",options:v,"display-name":t=>t==null?void 0:t.name,field:t=>t.value},null,8,["modelValue","display-name","field"])]),_:1}),s("div",null,[r.value.value==="autowhitelist:execute_command"?(u(),m("div",J,[i(c,{label:"When adding player run",name:"on_add",class:"mb-2"},{default:p(({value:t,updateValue:a})=>[s("input",{value:t,onInput:n=>a(n.target.value),placeholder:'tellraw @a {text: "Welcome {player} to the server!", color: "green"}'},null,40,P),t.startsWith("/")?(u(),m("p",j,[e[2]||(e[2]=g("Commands do not need the ")),e[3]||(e[3]=s("code",null,"/",-1)),e[4]||(e[4]=g(" prefix. The game will be looking for ")),s("code",null,w("/"+t),1)])):f("",!0)]),_:1}),i(c,{label:"When adding player run",name:"on_remove"},{default:p(({value:t,updateValue:a})=>[s("input",{value:t,onInput:n=>a(n.target.value),placeholder:"scoreboard player reset points {player}"},null,40,U),t.startsWith("/")?(u(),m("p",$,[e[5]||(e[5]=g("Commands do not need the ")),e[6]||(e[6]=s("code",null,"/",-1)),e[7]||(e[7]=g(" prefix. The game will be looking for ")),s("code",null,w("/"+t),1)])):f("",!0)]),_:1})])):f("",!0),r.value.value==="autowhitelist:luckperms/permission"?(u(),m("div",z,[i(c,{label:"Give the player the permission",name:"permission",class:"mb-2",placeholder:"worldedit.navigation.thru.tool"})])):f("",!0),r.value.value==="autowhitelist:luckperms/group"?(u(),m("div",Y,[i(c,{label:"Add the player to the group",name:"group",class:"mb-2",placeholder:"twitch_tier_1"})])):f("",!0)])]),i(G,{ref:"markdownRef",onMarkdownUpdated:N,class:"limit-height"},{default:p(()=>[g(w(C.value),1)]),_:1},512)],64))}}),q=L(K,[["__scopeId","data-v-876938fe"]]),te=JSON.parse('{"title":"Config generator","description":"","frontmatter":{"title":"Config generator","sidebar_position":4},"headers":[],"relativePath":"minecraft/autowhitelist/1.2.0/configs/generator.md","filePath":"versions/minecraft/autowhitelist/1.2.0/configs/generator.md"}'),Q={name:"minecraft/autowhitelist/1.2.0/configs/generator.md"},ne=x({...Q,setup(T){return(y,v)=>(u(),m("div",null,[i(q)]))}});export{te as __pageData,ne as default};
